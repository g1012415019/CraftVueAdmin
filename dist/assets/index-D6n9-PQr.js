import{u as I,a as q}from"./vue-router-CLN9oxcD.js";import{P as L,u as z,R as E,_ as P}from"./index-BPcXihos.js";import{w as k}from"./website.config-BTwa7-xM.js";import{P as R,L as j,a as B,b as O,c as U}from"./vicons-ionicons5-DlWrWSau.js";import{ai as A,e as D,b as M,h as V,g as G,B as T,d as F}from"./naive-ui-CQkZylKw.js";import{k as K,o as Q,r as m,e as W,N as $,O as H,Q as J,P as s,K as i,a2 as X,_ as a,$ as o,j as x}from"./vue-CWmhOUaS.js";import"./pinia-DBBO49tL.js";import"./lodash-es-Dmov6_H9.js";import"./vue-quill-C4iS2aBk.js";import"./vicons-antd-BYiuCLB_.js";const Y={class:"view-account"},Z={class:"view-account-container animate__animated animate__fadeInDown"},ee={class:"view-account-top"},se={class:"view-account-top-logo"},ae=["src"],oe={class:"view-account-top-desc"},te={class:"view-account-form"},ne={class:"flex-between-wrapper"},ie={class:"left"},le={class:"flex view-account-other"},ce={class:"social-login"},re={href:"javascript:",class:"social-icon"},de={href:"javascript:",class:"social-icon"},ue={href:"javascript:",class:"social-icon"},ve=K({__name:"index",setup(_e){Q(()=>{setTimeout(()=>{const r=document.querySelector('input[placeholder="请输入用户名"]');r&&r.focus()},500)});const g=m(),c=A(),v=m(!1),w=m(!0),y=L.BASE_LOGIN_NAME,l=W({username:"admin",password:"123456",isCaptcha:!0}),N={username:{required:!0,message:"请输入用户名",trigger:"blur"},password:{required:!0,message:"请输入密码",trigger:"blur"}},S=z(),b=I(),h=q(),C=r=>{r.preventDefault(),g.value.validate(async e=>{if(e)c.error("请填写完整信息，并且进行验证码校验");else{const{username:t,password:u}=l;c.loading("登录中..."),v.value=!0;const n={username:t,password:u};try{const{code:_,message:f}=await S.login(n);if(c.destroyAll(),_==E.SUCCESS){const p=decodeURIComponent(h.query?.redirect||"/");c.success("登录成功，即将进入系统"),h.name===y?b.replace("/"):b.replace(p)}else c.info(f||"登录失败")}finally{v.value=!1}}})};return(r,e)=>{const t=V,u=M,n=D,_=G,f=T,p=F;return H(),$("div",Y,[e[10]||(e[10]=J('<div class="view-account-header" data-v-c7eb23f1></div><div class="view-account-background" data-v-c7eb23f1><div class="line line-1" data-v-c7eb23f1></div><div class="line line-2" data-v-c7eb23f1></div><div class="line line-3" data-v-c7eb23f1></div><div class="square square-1" data-v-c7eb23f1></div><div class="square square-2" data-v-c7eb23f1></div><div class="triangle" data-v-c7eb23f1></div><div class="wave wave-1" data-v-c7eb23f1></div><div class="wave wave-2" data-v-c7eb23f1></div><div class="wave wave-3" data-v-c7eb23f1></div></div>',2)),s("div",Z,[s("div",ee,[s("div",se,[s("img",{src:i(k).loginImage,alt:""},null,8,ae)]),s("div",oe,X(i(k).loginDesc),1)]),s("div",te,[e[8]||(e[8]=s("h2",{class:"view-account-title"},"账号登录",-1)),e[9]||(e[9]=s("div",{class:"login-welcome"},"欢迎回来，请登录您的账号",-1)),a(p,{ref_key:"formRef",ref:g,"label-placement":"left",size:"large",model:l,rules:N,class:"login-form"},{default:o(()=>[a(n,{path:"username",class:"username-item"},{default:o(()=>[a(u,{value:l.username,"onUpdate:value":e[0]||(e[0]=d=>l.username=d),placeholder:"请输入用户名",class:"login-input"},{prefix:o(()=>[a(t,{size:"18",color:"#808695"},{default:o(()=>[a(i(R))]),_:1})]),_:1},8,["value"])]),_:1}),a(n,{path:"password",class:"password-item"},{default:o(()=>[a(u,{value:l.password,"onUpdate:value":e[1]||(e[1]=d=>l.password=d),type:"password",showPasswordOn:"click",placeholder:"请输入密码",class:"login-input"},{prefix:o(()=>[a(t,{size:"18",color:"#808695"},{default:o(()=>[a(i(j))]),_:1})]),_:1},8,["value"])]),_:1}),a(n,{class:"default-color remember-forgot"},{default:o(()=>[s("div",ne,[s("div",ie,[a(_,{checked:w.value,"onUpdate:checked":e[2]||(e[2]=d=>w.value=d)},{default:o(()=>e[3]||(e[3]=[x("自动登录",-1)])),_:1,__:[3]},8,["checked"])]),e[4]||(e[4]=s("div",{class:"right"},[s("a",{href:"javascript:",class:"forgot-link"},"忘记密码")],-1))])]),_:1}),a(n,null,{default:o(()=>[a(f,{type:"primary",onClick:C,size:"large",loading:v.value,block:"",class:"login-button"},{default:o(()=>e[5]||(e[5]=[x(" 登录 ",-1)])),_:1,__:[5]},8,["loading"])]),_:1}),a(n,{class:"default-color other-item"},{default:o(()=>[s("div",le,[e[6]||(e[6]=s("div",{class:"flex-initial other-text"},[s("span",null,"其它登录方式")],-1)),s("div",ce,[s("a",re,[a(t,{size:"24",color:"#909399"},{default:o(()=>[a(i(B))]),_:1})]),s("a",de,[a(t,{size:"24",color:"#909399"},{default:o(()=>[a(i(O))]),_:1})]),s("a",ue,[a(t,{size:"24",color:"#909399"},{default:o(()=>[a(i(U))]),_:1})])]),e[7]||(e[7]=s("div",{class:"flex-initial",style:{"margin-left":"auto"}},[s("a",{href:"javascript:",class:"register-link"},"注册账号")],-1))])]),_:1})]),_:1},8,["model"])])])])}}}),Ne=P(ve,[["__scopeId","data-v-c7eb23f1"]]);export{Ne as default};
